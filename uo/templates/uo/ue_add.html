{% extends 'uo/base.html' %}

{% block title %}
Ajouter une unité d'enseignement
{% endblock %}

{% block content %}
<div class="container py-5">
    <!-- Vérification si l'utilisateur est responsable -->
    {% if user.is_authenticated and formations_responsable|length > 0 %}
        <div class="text-center mb-4">
            <h1 class="display-4" style="color: #18534F;">
                <i class="fas fa-plus-circle" style="color: #D6955B;"></i> Ajouter une unité d'enseignement
            </h1>
            <p class="lead" style="color: #226D68;">
                Veuillez remplir les informations ci-dessous pour ajouter une nouvelle unité d'enseignement.
            </p>
        </div>

        <!-- Formulaire -->
        <form method="post" class="card p-4 shadow-sm" style="background-color: #ECF8F6; border-color: #18534F;">
            {% csrf_token %}

            <!-- Champ Titre -->
            <div class="mb-3">
                <label for="{{ form.titre.id_for_label }}" class="form-label" style="color: #18534F;">
                    <i class="fas fa-heading"></i> Titre :
                </label>
                {{ form.titre }}
            </div>

            <!-- Champ Description -->
            <div class="mb-3">
                <label for="{{ form.description.id_for_label }}" class="form-label" style="color: #18534F;">
                    <i class="fas fa-align-left"></i> Description :
                </label>
                {{ form.description }}
            </div>

            <!-- Champ CM -->
            <div class="mb-3">
                <label for="{{ form.CM.id_for_label }}" class="form-label" style="color: #18534F;">
                    <i class="fas fa-clock"></i> CM (heures) :
                </label>
                {{ form.CM }}
            </div>

            <!-- Champ TD -->
            <div class="mb-3">
                <label for="{{ form.TD.id_for_label }}" class="form-label" style="color: #18534F;">
                    <i class="fas fa-chalkboard-teacher"></i> TD (heures) :
                </label>
                {{ form.TD }}
            </div>

            <!-- Champ TP -->
            <div class="mb-3">
                <label for="{{ form.TP.id_for_label }}" class="form-label" style="color: #18534F;">
                    <i class="fas fa-tools"></i> TP (heures) :
                </label>
                {{ form.TP }}
            </div>

            <!-- Champ Crédits -->
            <div class="mb-3">
                <label for="{{ form.credits.id_for_label }}" class="form-label" style="color: #18534F;">
                    <i class="fas fa-coins"></i> Crédits :
                </label>
                {{ form.credits }}
            </div>

            <!-- Champ Responsables -->
            <div class="mb-3">
                <label for="{{ form.responsables.id_for_label }}" class="form-label" style="color: #18534F;">
                    <i class="fas fa-user"></i> Responsables :
                </label>
                {{ form.responsables }}
            </div>

            <!-- Champ Formations -->
            <div class="mb-3">
                <label for="{{ form.formations.id_for_label }}" class="form-label" style="color: #18534F;">
                    <i class="fas fa-university"></i> Formations :
                </label>
                {{ form.formations }}
            </div>

            <!-- Bouton Ajouter -->
            <div class="text-center">
                <button type="submit" class="btn" style="background-color: #18534F; color: #ECF8F6;">
                    <i class="fas fa-save"></i> Ajouter
                </button>
            </div>
        </form>
    {% else %}
        <!-- Message d'accès refusé -->
        <div class="text-center">
            <h1 class="display-4" style="color: #D6955B;">Accès refusé</h1>
            <p class="lead" style="color: #226D68;">
                Vous devez être responsable d'une formation pour ajouter une unité d'enseignement.
            </p>
            <a href="{% url 'formation_list' %}" class="btn btn-secondary">
                Retour à la liste des formations
            </a>
        </div>
    {% endif %}
</div>
{% endblock %}
